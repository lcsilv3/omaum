{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
  <h1>Detalhes da Punição</h1>
  
  <div class="card">
    <div class="card-header">
      <h2>Punição de {{ punicao.aluno.nome }}</h2>
    </div>
    <div class="card-body">
      <p><strong>Aluno:</strong> {{ punicao.aluno.nome }}</p>
      <p><strong>Tipo de Punição:</strong> {{ punicao.tipo_punicao.nome }}</p>
      <p><strong>Gravidade:</strong> {{ punicao.tipo_punicao.get_gravidade_display }}</p>
      <p><strong>Data de Aplicação:</strong> {{ punicao.data_aplicacao|date:"d/m/Y" }}</p>
      {% if punicao.data_termino %}
        <p><strong>Data de Término:</strong> {{ punicao.data_termino|date:"d/m/Y" }}</p>
      {% endif %}
      <p>
        <strong>Status:</strong> 
        {% if punicao.status == 'pendente' %}
          <span class="badge bg-warning">Pendente</span>
        {% elif punicao.status == 'em_andamento' %}
          <span class="badge bg-primary">Em Andamento</span>
        {% elif punicao.status == 'concluida' %}
          <span class="badge bg-success">Concluída</span>
        {% elif punicao.status == 'cancelada' %}
          <span class="badge bg-secondary">Cancelada</span>
        {% endif %}
      </p>
      <p><strong>Descrição:</strong> {{ punicao.descricao }}</p>
      {% if punicao.observacoes %}
        <p><strong>Observações:</strong> {{ punicao.observacoes }}</p>
      {% endif %}
      <p><strong>Registrado por:</strong> {{ punicao.registrado_por.username }}</p>
      <p><strong>Data de registro:</strong> {{ punicao.data_registro|date:"d/m/Y H:i" }}</p>
      {% if punicao.atualizado_por %}
        <p><strong>Atualizado por:</strong> {{ punicao.atualizado_por.username }}</p>
        <p><strong>Data de atualização:</strong> {{ punicao.data_atualizacao|date:"d/m/Y H:i" }}</p>
      {% endif %}
    </div>
    <div class="card-footer">
      <a href="{% url 'punicoes:editar_punicao' punicao.id %}" class="btn btn-warning">Editar</a>
      <a href="{% url 'punicoes:excluir_punicao' punicao.id %}" class="btn btn-danger">Excluir</a>
      <a href="{% url 'punicoes:listar_punicoes' %}" class="btn btn-secondary">Voltar</a>
    </div>
  </div>
</div>
{% endblock %}
