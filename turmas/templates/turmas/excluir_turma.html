{% extends 'base.html' %}

{% block title %}Excluir Turma{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Excluir Turma</h1>
    
    {% if tem_matriculas %}
        <div class="alert alert-danger">
            <p>Não é possível excluir esta turma porque ela possui alunos matriculados.</p>
            <p>Para excluir a turma, primeiro cancele todas as matrículas.</p>
        </div>
        <a href="{% url 'turmas:detalhar_turma' turma.id %}" class="btn btn-primary">Voltar para Detalhes da Turma</a>
    {% else %}
        <div class="alert alert-warning">
            <p>Você tem certeza que deseja excluir a turma "{{ turma.nome }}"?</p>
            <p>Esta ação não pode ser desfeita.</p>
        </div>
        
        <form method="post">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">Confirmar Exclusão</button>
            <a href="{% url 'turmas:listar_turmas' %}" class="btn btn-secondary">Cancelar</a>
        </form>
    {% endif %}
</div>
{% endblock %}
