{% extends 'base.html' %}

{% block title %}Detalhes da Turma{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Detalhes da Turma</h1>
    <div class="card mb-4">
        <div class="card-header">
            <h2>{{ turma.nome }}</h2>
        </div>
        <div class="card-body">
            <p><strong>Curso:</strong> {{ turma.curso.nome }}</p>
            <p><strong>Status:</strong> {{ turma.get_status_display }}</p>
            <p><strong>Data de In√≠cio:</strong> {{ turma.data_inicio|date:"d/m/Y" }}</p>
            <p><strong>Data de Fim:</strong> {{ turma.data_fim|date:"d/m/Y" }}</p>
        </div>
    </div>

    <h3>Alunos da Turma</h3>
    <ul>
        {% for matricula in turma.matriculas.all %}
            <li>{{ matricula.aluno.nome }}</li>
        {% empty %}
            <li>Nenhum aluno matriculado.</li>
        {% endfor %}
    </ul>

    <h3>Atividades Relacionadas</h3>
    <ul>
        {% for atividade in turma.atividades_academicas.all %}
            <li>
                {{ atividade.nome }} - {{ atividade.get_tipo_atividade_display }} ({{ atividade.data_inicio|date:"d/m/Y H:i" }})
                <a href="{% url 'atividades:detalhar_atividade_academica' atividade.id %}" class="btn btn-sm btn-info">Detalhes</a>
            </li>
        {% empty %}
            <li>Nenhuma atividade relacionada.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
