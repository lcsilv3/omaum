# Código da Funcionalidade: migrations_backup - Parte 2/2
*Gerado automaticamente*



## migrations_backup\iniciacoes\0002_alter_iniciacao_unique_together_iniciacao_curso_and_more.py

python
# Generated by Django 5.1.7 on 2025-04-02 12:18

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('alunos', '0002_remove_aluno_id_alter_aluno_cpf'),
        ('cursos', '0001_initial'),
        ('iniciacoes', '0001_initial'),
    ]

    operations = [
        # First add the fields
        migrations.AddField(
            model_name='iniciacao',
            name='curso',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='cursos.curso', verbose_name='Curso'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='iniciacao',
            name='grau',
            field=models.CharField(default=1, max_length=50, verbose_name='Grau'),
            preserve_default=False,
        ),
        # Then set up the unique constraint
        migrations.AlterUniqueTogether(
            name='iniciacao',
            unique_together={('aluno', 'curso', 'grau')},
        ),
        # Rest of the operations
        migrations.AlterField(
            model_name='iniciacao',
            name='aluno',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='alunos.aluno', verbose_name='Aluno'),
        ),
        migrations.AlterField(
            model_name='iniciacao',
            name='data_iniciacao',
            field=models.DateField(verbose_name='Data da IniciaÃ§Ã£o'),
        ),
        migrations.AlterField(
            model_name='iniciacao',
            name='observacoes',
            field=models.TextField(blank=True, null=True, verbose_name='ObservaÃ§Ãµes'),
        ),
        migrations.RemoveField(
            model_name='iniciacao',
            name='nome_curso',
        ),
    ]





## migrations_backup\punicoes\0001_initial.py

python
# Generated by Django 5.1.7 on 2025-04-01 22:15

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('alunos', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='TipoPunicao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100)),
                ('descricao', models.TextField()),
                ('gravidade', models.CharField(choices=[('leve', 'Leve'), ('media', 'Média'), ('grave', 'Grave'), ('gravissima', 'Gravíssima')], default='media', max_length=20)),
            ],
            options={
                'verbose_name': 'Tipo de Punição',
                'verbose_name_plural': 'Tipos de Punição',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='Punicao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.TextField()),
                ('data_aplicacao', models.DateField()),
                ('data_termino', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('em_andamento', 'Em Andamento'), ('concluida', 'Concluída'), ('cancelada', 'Cancelada')], default='pendente', max_length=20)),
                ('observacoes', models.TextField(blank=True, null=True)),
                ('data_registro', models.DateTimeField(default=django.utils.timezone.now)),
                ('data_atualizacao', models.DateTimeField(blank=True, null=True)),
                ('aluno', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='punicoes', to='alunos.aluno')),
                ('atualizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='punicoes_atualizadas', to=settings.AUTH_USER_MODEL)),
                ('registrado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='punicoes_registradas', to=settings.AUTH_USER_MODEL)),
                ('tipo_punicao', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='punicoes', to='punicoes.tipopunicao')),
            ],
            options={
                'verbose_name': 'Punição',
                'verbose_name_plural': 'Punições',
                'ordering': ['-data_aplicacao'],
            },
        ),
    ]





## migrations_backup\punicoes\0002_alter_punicao_options_remove_punicao_atualizado_por_and_more.py

python
# Generated by Django 5.1.7 on 2025-04-02 12:18

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('alunos', '0002_remove_aluno_id_alter_aluno_cpf'),
        ('punicoes', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='punicao',
            options={'ordering': ['-data_aplicacao', 'aluno__nome'], 'verbose_name': 'Punição', 'verbose_name_plural': 'Punições'},
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='atualizado_por',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='data_atualizacao',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='data_registro',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='data_termino',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='descricao',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='registrado_por',
        ),
        migrations.RemoveField(
            model_name='punicao',
            name='status',
        ),
        migrations.RemoveField(
            model_name='tipopunicao',
            name='gravidade',
        ),
        migrations.AddField(
            model_name='punicao',
            name='aplicada_por',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Aplicada por'),
        ),
        migrations.AddField(
            model_name='punicao',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, default=django.utils.timezone.now, verbose_name='Criado em'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='punicao',
            name='motivo',
            field=models.TextField(default=1, verbose_name='Motivo'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='punicao',
            name='updated_at',
            field=models.DateTimeField(auto_now=True, verbose_name='Atualizado em'),
        ),
        migrations.AlterField(
            model_name='punicao',
            name='aluno',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='alunos.aluno', verbose_name='Aluno'),
        ),
        migrations.AlterField(
            model_name='punicao',
            name='data_aplicacao',
            field=models.DateField(verbose_name='Data de Aplicação'),
        ),
        migrations.AlterField(
            model_name='punicao',
            name='observacoes',
            field=models.TextField(blank=True, null=True, verbose_name='Observações'),
        ),
        migrations.AlterField(
            model_name='punicao',
            name='tipo_punicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='punicoes.tipopunicao', verbose_name='Tipo de Punição'),
        ),
        migrations.AlterField(
            model_name='tipopunicao',
            name='descricao',
            field=models.TextField(blank=True, null=True, verbose_name='Descrição'),
        ),
        migrations.AlterField(
            model_name='tipopunicao',
            name='nome',
            field=models.CharField(max_length=100, verbose_name='Nome'),
        ),
    ]





## migrations_backup\turmas\0001_initial.py

python
# Generated by Django 5.1.7 on 2025-04-01 22:15

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('alunos', '0001_initial'),
        ('cursos', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Turma',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, verbose_name='Nome')),
                ('data_inicio', models.DateField(verbose_name='Data de Início')),
                ('data_fim', models.DateField(verbose_name='Data de Fim')),
                ('status', models.CharField(choices=[('A', 'Ativa'), ('I', 'Inativa'), ('C', 'Concluída')], default='A', max_length=1, verbose_name='Status')),
                ('capacidade', models.PositiveIntegerField(default=30, verbose_name='Capacidade de Alunos')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cursos.curso', verbose_name='Curso')),
            ],
            options={
                'verbose_name': 'Turma',
                'verbose_name_plural': 'Turmas',
            },
        ),
        migrations.CreateModel(
            name='Matricula',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_matricula', models.DateField(auto_now_add=True, verbose_name='Data da Matrícula')),
                ('status', models.CharField(choices=[('A', 'Ativa'), ('C', 'Cancelada'), ('F', 'Finalizada')], default='A', max_length=1, verbose_name='Status')),
                ('aluno', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matriculas', to='alunos.aluno', verbose_name='Aluno')),
                ('turma', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matriculas', to='turmas.turma', verbose_name='Turma')),
            ],
            options={
                'verbose_name': 'Matrícula',
                'verbose_name_plural': 'Matrículas',
                'unique_together': {('aluno', 'turma')},
            },
        ),
    ]





## migrations_backup\turmas\0002_alter_matricula_options_remove_matricula_status_and_more.py

python
# Generated by Django 5.1.7 on 2025-04-02 12:11

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('alunos', '0002_remove_aluno_id_alter_aluno_cpf'),
        ('turmas', '0001_initial'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='matricula',
            options={'ordering': ['-data_matricula'], 'verbose_name': 'Matrícula', 'verbose_name_plural': 'Matrículas'},
        ),
        migrations.RemoveField(
            model_name='matricula',
            name='status',
        ),
        migrations.AddField(
            model_name='matricula',
            name='ativa',
            field=models.BooleanField(default=True, verbose_name='Matrícula Ativa'),
        ),
        migrations.AlterField(
            model_name='matricula',
            name='aluno',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='alunos.aluno', verbose_name='Aluno'),
        ),
        migrations.AlterField(
            model_name='matricula',
            name='data_matricula',
            field=models.DateField(verbose_name='Data da Matrícula'),
        ),
        migrations.AlterField(
            model_name='matricula',
            name='turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='turmas.turma', verbose_name='Turma'),
        ),
    ]



