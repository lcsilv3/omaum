{% extends 'base.html' %}
{% block title %}{% if atividade %}Editar{% else %}Nova{% endif %} Atividade Acadêmica{% endblock %}
{% block content %}
<div class="container mt-4">
    <h1>{% if atividade %}Editar{% else %}Nova{% endif %} Atividade Acadêmica</h1>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        {% if form.instance.pk and form.instance.turmas.all %}
            <div class="mb-3">
                <label class="form-label">Curso</label>
                <input type="text" class="form-control" value="{{ form.instance.curso }}" readonly aria-label="Curso">
            </div>
        {% endif %}
        <button type="submit" class="btn btn-primary">Salvar</button>
        <a href="{% url 'atividades:listar_atividades_academicas' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    tooltipTriggerList.forEach(function (tooltipTriggerEl) {
        new bootstrap.Tooltip(tooltipTriggerEl)
    });
    document.querySelectorAll('.has-error input, .has-error select, .has-error textarea').forEach(function(el) {
        el.classList.add('is-invalid', 'animate-blink');
    });
</script>
<style>
    .animate-blink {
        animation: blink 1s linear infinite;
    }
    @keyframes blink {
        0%, 100% { background-color: #fff; }
        50% { background-color: #ffcccc; }
    }
</style>
{% endblock %}
