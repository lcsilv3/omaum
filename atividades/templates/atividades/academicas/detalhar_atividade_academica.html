{% extends 'base.html' %}
{% load static %}
{% block title %}Detalhes da Atividade Acadêmica{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card mb-4">
        <div class="card-header bg-primary text-white" data-bs-toggle="collapse" data-bs-target="#secao-basica" style="cursor:pointer;">
            <h5 class="mb-0">Dados Básicos</h5>
        </div>
        <div id="secao-basica" class="collapse show">
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">Nome:</dt>
                    <dd class="col-sm-9">{{ atividade.nome }}</dd>
                    <dt class="col-sm-3">Descrição:</dt>
                    <dd class="col-sm-9">{{ atividade.descricao|default:"-" }}</dd>
                    <dt class="col-sm-3">Tipo:</dt>
                    <dd class="col-sm-9">{{ atividade.get_tipo_atividade_display }}</dd>
                    <dt class="col-sm-3">Status:</dt>
                    <dd class="col-sm-9">
                        {% if atividade.status == 'CANCELADA' %}
                            <span class="badge bg-danger">Cancelada</span>
                        {% else %}
                            <span class="badge bg-success">Ativa</span>
                        {% endif %}
                    </dd>
                </dl>
            </div>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header bg-secondary text-white" data-bs-toggle="collapse" data-bs-target="#secao-datas" style="cursor:pointer;">
            <h5 class="mb-0">Datas e Horários</h5>
        </div>
        <div id="secao-datas" class="collapse">
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">Data de Início:</dt>
                    <dd class="col-sm-9">{{ atividade.data_inicio|date:"d/m/Y" }}</dd>
                    <dt class="col-sm-3">Data de Término:</dt>
                    <dd class="col-sm-9">
                        {% if atividade.data_fim %}
                            {{ atividade.data_fim|date:"d/m/Y" }}
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </dd>
                    <dt class="col-sm-3">Hora de Início:</dt>
                    <dd class="col-sm-9">{{ atividade.hora_inicio|default:"-" }}</dd>
                    <dt class="col-sm-3">Hora de Término:</dt>
                    <dd class="col-sm-9">{{ atividade.hora_fim|default:"-" }}</dd>
                </dl>
            </div>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header bg-info text-white" data-bs-toggle="collapse" data-bs-target="#secao-vinculos" style="cursor:pointer;">
            <h5 class="mb-0">Vínculos</h5>
        </div>
        <div id="secao-vinculos" class="collapse">
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">Curso:</dt>
                    <dd class="col-sm-9">{{ atividade.curso }}</dd>
                    <dt class="col-sm-3">Turmas:</dt>
                    <dd class="col-sm-9">
                        {% for turma in atividade.turmas.all %}
                            <span class="badge bg-info">{{ turma.nome }}</span>
                        {% empty %}
                            <span class="text-muted">-</span>
                        {% endfor %}
                    </dd>
                    <dt class="col-sm-3">Local:</dt>
                    <dd class="col-sm-9">{{ atividade.local|default:"-" }}</dd>
                    <dt class="col-sm-3">Responsável:</dt>
                    <dd class="col-sm-9">{{ atividade.responsavel|default:"-" }}</dd>
                    <dt class="col-sm-3">Convocação:</dt>
                    <dd class="col-sm-9">
                        {% if atividade.convocacao %}
                            <span class="badge bg-success">Sim</span>
                        {% else %}
                            <span class="badge bg-secondary">Não</span>
                        {% endif %}
                    </dd>
                </dl>
            </div>
        </div>
    </div>
    <div class="mt-4">
        <a href="{% url 'atividades:editar_atividade' atividade.id %}" class="btn btn-primary">Editar</a>
        <a href="{% url 'atividades:listar_atividades' %}" class="btn btn-secondary">Voltar para a lista</a>
    </div>
</div>
{% endblock %}